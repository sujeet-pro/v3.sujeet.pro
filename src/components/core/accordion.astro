---
import { Icon } from 'astro-icon/components'

type Props = {
  title: string
  open?: boolean
}
const { title, open = true } = Astro.props
---

<details open={open} class='p-4 bg-blend-lighten'>
  <summary class='cursor-pointer list-none flex items-center justify-between'>
    <slot name='title'><span class='font-semibold'>{title}</span></slot>
    <Icon name='carbon:chevron-up' class='accordion-icon' />
  </summary>
  <div class='py-4 accordion-content'>
    <slot />
  </div>
</details>

<style>
  details summary::-webkit-details-marker {
    display: none;
  }

  details[open] .accordion-icon {
    transform: rotate(0deg);
  }
  details:not([open]) .accordion-content {
    display: none;
  }
  .accordion-icon {
    transform: rotate(180deg);
    transition: transform 0.2s;
  }
</style>
